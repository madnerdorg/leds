
<!-- Translation--><!DOCTYPE html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>Led</title>
  <style>
		.red{background-color:#f67e7e;}
		.orange{background-color:peachpuff;}
		.yellow{background-color:lightyellow;}
		.green{background-color:#6ccf65;}
		.aqua{background-color:#97e6de;;}
		.blue{background-color:steelblue;}
		.purple{background-color:rgb(187, 123, 163);}
		.pink{background-color:pink;}
		.black{background-color:#332f2f;;color:#fff4f4;}
		.white{background-color:mintcream;}
		.background{background-color:#d5d7d7;}

		h1{
			background-color:#b0b0b0;
			color: #6c6363;
			text-align: center;
			font-family: "Arial";
		}

		button{
			width:128px;
			height:64px;
			border: 0px solid;
			color: #22473b;
			font-size: 22px;
			background-color:#a1a1a1;
			margin-bottom:5px;
			-webkit-transition-duration: 0.1s;
			transition-duration: 0.1s;
		}

		button:hover{opacity:0.6;}

		button:active{transform:scale(2,2);}

		textarea{
			width:100%;
			text-align:center;
			font-size: 32px;
		}

		ul{font-size: 22px;color: #22473b;}

  </style>
</head>
<body class="background">
  <h1>LED 0</h1>
  <button class="black" onclick="leds.send(off(0))">OFF</button>
  <button class="white" onclick="leds.send(on(0))">ON</button>
  <button class="red" onclick="leds.send(color(0,red))">Red</button>
  <button class="orange" onclick="leds.send(color(0,orange))">Orange</button>
  <button class="yellow" onclick="leds.send(color(0,yellow))">Yellow</button>
  <button class="green" onclick="leds.send(color(0,green))">Green</button>
  <button class="aqua" onclick="leds.send(color(0,aqua))">Aqua</button>
  <button class="blue" onclick="leds.send(color(0,blue))">Blue</button>
  <button class="purple" onclick="leds.send(color(0,purple))">Purple</button>
  <button class="pink" onclick="leds.send(color(0,pink))">Pink</button>
  <button onclick="leds.send(stop(0))">Stop</button>
  <button onclick="leds.send(blink(0,normal))">Blink</button>
  <button onclick="leds.send(pulse(0))">Pulse</button>
  <button onclick="leds.send(rainbow(0))">Rainbow</button>
  <h1>LED 1</h1>
  <button class="black" onclick="leds.send(off(1))">OFF</button>
  <button class="white" onclick="leds.send(on(1))">ON</button>
  <button class="red" onclick="leds.send(color(1,red))">Red</button>
  <button class="orange" onclick="leds.send(color(1,orange))">Orange</button>
  <button class="yellow" onclick="leds.send(color(1,yellow))">Yellow</button>
  <button class="green" onclick="leds.send(color(1,green))">Green</button>
  <button class="aqua" onclick="leds.send(color(1,aqua))">Aqua</button>
  <button class="blue" onclick="leds.send(color(1,blue))">Blue</button>
  <button class="purple" onclick="leds.send(color(1,purple))">Purple</button>
  <button class="pink" onclick="leds.send(color(1,pink))">Pink</button>
  <button onclick="leds.send(stop(1))">Stop</button>
  <button onclick="leds.send(blink(1,normal))">Blink</button>
  <button onclick="leds.send(pulse(1))">Pulse</button>
  <button onclick="leds.send(rainbow(1))">Rainbow</button>
  <h1>LED 2</h1>
  <button class="black" onclick="leds.send(off(2))">OFF</button>
  <button class="white" onclick="leds.send(on(2))">ON</button>
  <button class="red" onclick="leds.send(color(2,red))">Red</button>
  <button class="orange" onclick="leds.send(color(2,orange))">Orange</button>
  <button class="yellow" onclick="leds.send(color(2,yellow))">Yellow</button>
  <button class="green" onclick="leds.send(color(2,green))">Green</button>
  <button class="aqua" onclick="leds.send(color(2,aqua))">Aqua</button>
  <button class="blue" onclick="leds.send(color(2,blue))">Blue</button>
  <button class="purple" onclick="leds.send(color(2,purple))">Purple</button>
  <button class="pink" onclick="leds.send(color(2,pink))">Pink</button>
  <button onclick="leds.send(stop(2))">Stop</button>
  <button onclick="leds.send(blink(2,normal))">Blink</button>
  <button onclick="leds.send(pulse(2))">Pulse</button>
  <button onclick="leds.send(rainbow(2))">Rainbow</button>
  <h1>LED 3</h1>
  <button class="black" onclick="leds.send(off(3))">OFF</button>
  <button class="white" onclick="leds.send(on(3))">ON</button>
  <button class="red" onclick="leds.send(color(3,red))">Red</button>
  <button class="orange" onclick="leds.send(color(3,orange))">Orange</button>
  <button class="yellow" onclick="leds.send(color(3,yellow))">Yellow</button>
  <button class="green" onclick="leds.send(color(3,green))">Green</button>
  <button class="aqua" onclick="leds.send(color(3,aqua))">Aqua</button>
  <button class="blue" onclick="leds.send(color(3,blue))">Blue</button>
  <button class="purple" onclick="leds.send(color(3,purple))">Purple</button>
  <button class="pink" onclick="leds.send(color(3,pink))">Pink</button>
  <button onclick="leds.send(stop(3))">Stop</button>
  <button onclick="leds.send(blink(3,normal))">Blink</button>
  <button onclick="leds.send(pulse(3))">Pulse</button>
  <button onclick="leds.send(rainbow(3))">Rainbow</button>
  <h1>LED 4</h1>
  <button class="black" onclick="leds.send(off(4))">OFF</button>
  <button class="white" onclick="leds.send(on(4))">ON</button>
  <button class="red" onclick="leds.send(color(4,red))">Red</button>
  <button class="orange" onclick="leds.send(color(4,orange))">Orange</button>
  <button class="yellow" onclick="leds.send(color(4,yellow))">Yellow</button>
  <button class="green" onclick="leds.send(color(4,green))">Green</button>
  <button class="aqua" onclick="leds.send(color(4,aqua))">Aqua</button>
  <button class="blue" onclick="leds.send(color(4,blue))">Blue</button>
  <button class="purple" onclick="leds.send(color(4,purple))">Purple</button>
  <button class="pink" onclick="leds.send(color(4,pink))">Pink</button>
  <button onclick="leds.send(stop(4))">Stop</button>
  <button onclick="leds.send(blink(4,normal))">Blink</button>
  <button onclick="leds.send(pulse(4))">Pulse</button>
  <button onclick="leds.send(rainbow(4))">Rainbow</button>
  <h1>Settings</h1>
  <button class="black" onclick="leds.send(&quot;/off&quot;)">OFF</button>
  <button class="white" onclick="leds.send(&quot;/on&quot;)">ON</button>
  <button onclick="leds.send(&quot;/reset&quot;)">Load</button>
  <button onclick="leds.send(&quot;/save&quot;)">Save</button>
  <button class="red" onclick="leds.send(&quot;/clear&quot;)">Erase</button>
  <button class="blue" onclick="leds.send('/status')">Status</button>
  <button onclick="leds.send(&quot;value;255&quot;)">Sync</button>
  <textarea id="status"></textarea>
  <h1>Code</h1>
  <textarea id="send"></textarea>
  <button class="blue" onclick="leds.send(settings())">Send</button>
  <ul>
    <li>Police: 255;0;255;255;4;0;1;160;255;255;4;1;70;</li>
    <li>ON: 255;0;0;255;0;0;0;0;0;255;0;0;0;</li>
    <li>Fire: 123;32;255;41;2;0;0;32;255;129;2;0;0;</li>
    <li>Radioactive: 123;96;255;0;1;50;0;96;255;0;1;100;0;</li>
  </ul>
</body>
<script>
//Rainbow hue chart
//https://github.com/FastLED/FastLED/wiki/FastLED-HSV-Colors
red = 0;
orange = 32;
yellow = 64;
green = 96;
aqua = 128;
blue = 160;
purple = 192;
pink = 224;

//Animation
stop_anim = 0;
blink_anim = 1;
pulse_anim = 2;
rainbow_anim = 3;
alternate_blink_anim = 4;

//Predefined speed (in ms)
slower = 2000;
slow = 1000;
normal = 100;
fast = 50;
faster = 30;

function blink(led,delay){
	return "animation;"+led+";"+blink_anim+";"+delay+";0";
}

function pulse(led){
	return "animation;"+led+";"+pulse_anim+";0;0";
}

function rainbow(led){
	return "animation;"+led+";"+rainbow_anim+";0;0";
}

function alternate_blink(led1,led2,delay){
	return "animation;"+led1+";"+alternate_blink_anim+";0;0";
}

function stop(led){
	return "animation;"+led+";"+stop_anim+";0;0";
}

function load(settings){
	return "load;"+settings;
}


function brightness(bright){
	return "brightness;"+bright;
}

function off(led){
	return "color;"+led+";0;0;0";
}

function on(led){
	return "color;"+led+";0;0;255";
}

function color(led,hue){
	return "color;"+led+";"+hue+";255;255";
}

function hsv(led,h,s,v){
	return "color;"+led+";"+h+";"+s+";"+v;
}
</script>
<script>
  //Websocket
leds = new WebSocket("ws://192.168.0.140:42001");
leds.onopen = arduino_ok;
leds.onmessage = arduino_read;
leds.onerror = error_message;
leds.onclose = error_message;
  
  nb_settings = (5 * 6) +2;
  
  function settings(){
  	return load(document.getElementById("send").value);
  }
  
  function error_message(){
  	document.getElementById("status").value = "Not connected";
  	document.body.style = "filter: grayscale(100%);"
  	window.navigator.vibrate(200);
  }
  
  function arduino_ok(){
  	document.getElementById("status").value = "Connected";
  }
  
  function arduino_read(event){
  	console.log(event.data);
  	document.getElementById("status").value = event.data;
  	state_of_leds = event.data.split(";");
  	state_of_leds.pop();
  	window.navigator.vibrate(20);
  }
</script>